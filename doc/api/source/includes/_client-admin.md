# 客户端 - 后台管理系统

后台管理系统和otc系统通信，遵循两个约定:

| 约定名称   | 是否必须 |  描述      |
| --------- | ------- | ------ |
| 签名约定 |1 按照参数名进行排序，首尾加上时间戳(例如当前时间戳为12345678)，得到： timestamp1554890410a1b2c3timestamp1554890410<br>2 使用通信双方约定的salt进行二次md5计算，得到签名：<br>        sign=md5(md5(timestamp12345678_a1b2c3_timestamp12345678), salt)<br>3 request请求为POST， url参数修改为 sign=<sign><br>body为json格式，除了业务参数，必须包含参数 timestamp=<请求时间戳>， 并且timestamp不参与签名。 | |
| IP白名单 | 请求ip必须在白名单内才能发送请求，否则视为非法 | |

## 佣金发放

### HTTP 请求

- POST `/v1/admin/distributecommission`

```json
{
  "time": 1554739200,
  "timestamp": 1554890410,
}
```
### 请求参数

| 参数名称   | 是否必须 | 类型   | 描述      | 取值范围 |
| --------- | ------- | ------ | -------- | ------- |
| time      | true    | int64 | 发放自然天的0点时间戳，例如: 2019.04.09 对应的时间戳为 1554739200  |        |
| timestamp | true    | int32 | 请求发起时间戳  |        |

> Response:

```json
{ 
  "code":200
}
```

### 响应数据

| 字段名称      | 是否必须 | 类型   | 描述         | 取值范围 |
| ------------ | ------- | ------ | ------------ | ------- |
| code  | true    | int32 | 错误码        |         |
